{"ast":null,"code":"import _slicedToArray from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./adminOrders.module.css';import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{fetchOrders}from\"../../../../actions/orders\";import Loading from\"../../../../components/loading/Loading\";import OrdersList from\"../../../../components/orders-list/OrdersList\";import Pages from\"../../../../components/pages/Pages\";import{useLocation,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminOrders=function AdminOrders(){var data=useSelector(function(state){return state.orders.all;});var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var navigate=useNavigate();var location=useLocation();useEffect(function(){setLoading(true);var query=new URLSearchParams(location.search);var page=query.get('page')||1;setPage(Number(page));dispatch(fetchOrders(page,function(){return setLoading(false);}));window.scrollTo(0,0);},[dispatch,location.search]);var onPageClick=function onPageClick(page){navigate(\"/admin/orders?page=\".concat(page));};return/*#__PURE__*/_jsxs(\"div\",{className:styles['wrapper'],children:[/*#__PURE__*/_jsx(\"div\",{className:'heading',children:/*#__PURE__*/_jsx(\"h1\",{children:\"All Orders\"})}),loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(OrdersList,{orders:data.orders}),/*#__PURE__*/_jsx(Pages,{max:data.total_pages,current:page,onPageClick:onPageClick})]});};export default AdminOrders;","map":{"version":3,"names":["styles","useEffect","useState","useDispatch","useSelector","fetchOrders","Loading","OrdersList","Pages","useLocation","useNavigate","AdminOrders","data","state","orders","all","dispatch","loading","setLoading","page","setPage","navigate","location","query","URLSearchParams","search","get","Number","window","scrollTo","onPageClick","total_pages"],"sources":["D:/ReactProjects/grocery-site/client/src/pages/admin/orders/default/AdminOrders.js"],"sourcesContent":["import styles from './adminOrders.module.css';\nimport {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchOrders} from \"../../../../actions/orders\";\nimport Loading from \"../../../../components/loading/Loading\";\nimport OrdersList from \"../../../../components/orders-list/OrdersList\";\nimport Pages from \"../../../../components/pages/Pages\";\nimport {useLocation, useNavigate} from \"react-router-dom\";\n\nconst AdminOrders = () => {\n\n    const data = useSelector(state => state.orders.all)\n    const dispatch = useDispatch();\n    const [loading, setLoading] = useState(true);\n    const [page, setPage] = useState(1);\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    useEffect(() => {\n        setLoading(true);\n\n        const query = new URLSearchParams(location.search);\n        const page = query.get('page') || 1;\n        setPage(Number(page));\n\n        dispatch(fetchOrders(page, () => setLoading(false)))\n        window.scrollTo(0, 0);\n    }, [dispatch, location.search])\n\n    const onPageClick = (page) => {\n        navigate(`/admin/orders?page=${page}`)\n    }\n\n    return (\n        <div className={styles['wrapper']}>\n            <div className={'heading'}>\n                <h1>All Orders</h1>\n            </div>\n            {loading ? <Loading/> : <OrdersList orders={data.orders}/>}\n            {<Pages max={data.total_pages} current={page} onPageClick={onPageClick}/>}\n        </div>\n    );\n}\n\nexport default AdminOrders;"],"mappings":"0HAAA,MAAOA,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,WAAR,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,wCAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+CAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oCAAlB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,kBAAvC,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAEtB,GAAMC,CAAAA,IAAI,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAN,CAAaC,GAAjB,EAAN,CAAxB,CACA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,cAA8BD,QAAQ,CAAC,IAAD,CAAtC,wCAAOe,OAAP,eAAgBC,UAAhB,eACA,eAAwBhB,QAAQ,CAAC,CAAD,CAAhC,yCAAOiB,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEAR,SAAS,CAAC,UAAM,CACZiB,UAAU,CAAC,IAAD,CAAV,CAEA,GAAMK,CAAAA,KAAK,CAAG,GAAIC,CAAAA,eAAJ,CAAoBF,QAAQ,CAACG,MAA7B,CAAd,CACA,GAAMN,CAAAA,IAAI,CAAGI,KAAK,CAACG,GAAN,CAAU,MAAV,GAAqB,CAAlC,CACAN,OAAO,CAACO,MAAM,CAACR,IAAD,CAAP,CAAP,CAEAH,QAAQ,CAACX,WAAW,CAACc,IAAD,CAAO,iBAAMD,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAAP,CAAZ,CAAR,CACAU,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACH,CATQ,CASN,CAACb,QAAD,CAAWM,QAAQ,CAACG,MAApB,CATM,CAAT,CAWA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACX,IAAD,CAAU,CAC1BE,QAAQ,8BAAuBF,IAAvB,EAAR,CACH,CAFD,CAIA,mBACI,aAAK,SAAS,CAAEnB,MAAM,CAAC,SAAD,CAAtB,wBACI,YAAK,SAAS,CAAE,SAAhB,uBACI,kCADJ,EADJ,CAIKiB,OAAO,cAAG,KAAC,OAAD,IAAH,cAAgB,KAAC,UAAD,EAAY,MAAM,CAAEL,IAAI,CAACE,MAAzB,EAJ5B,cAKK,KAAC,KAAD,EAAO,GAAG,CAAEF,IAAI,CAACmB,WAAjB,CAA8B,OAAO,CAAEZ,IAAvC,CAA6C,WAAW,CAAEW,WAA1D,EALL,GADJ,CASH,CAjCD,CAmCA,cAAenB,CAAAA,WAAf"},"metadata":{},"sourceType":"module"}