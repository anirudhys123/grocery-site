{"ast":null,"code":"import _defineProperty from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'../form.module.css';import{Link,useNavigate}from\"react-router-dom\";import Authentication from\"../Authentication\";import{useState}from\"react\";import Error from\"../../../components/feedback/error/Error\";import{authLogin}from\"../../../actions/auth\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var handleChange=function handleChange(e){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));};var handleLogin=function handleLogin(){var email=data.email,password=data.password;if(!email)return setError(\"Enter an email address\");if(!password)return setError(\"Enter a password\");if(!validateEmail(email))return setError(\"Enter a valid email address\");if(password.length<6)return setError(\"Your password must be at least 6 characters long.\");var onSuccess=function onSuccess(){navigate('/');};var onError=function onError(e){setError(e.message);};dispatch(authLogin(email,password,onSuccess,onError));};var validateEmail=function validateEmail(email){return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);};var form=/*#__PURE__*/_jsxs(\"div\",{className:styles['wrapper'],children:[error&&/*#__PURE__*/_jsx(Error,{error:error,setError:setError}),/*#__PURE__*/_jsxs(\"div\",{className:styles['header'],children:[/*#__PURE__*/_jsx(\"div\",{className:styles['title'],children:\"Login with your email\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles['login'],children:[\"New to Rabbit Mart? \",/*#__PURE__*/_jsx(Link,{to:'/signup',children:\"Sign Up\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles['form'],children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleChange(e);},name:'email',value:data.email,placeholder:'Email',type:'email'}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleChange(e);},name:'password',value:data.password,placeholder:'Password',type:'password'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:'btn1',children:\"Login\"})]})]});return/*#__PURE__*/_jsx(Authentication,{data:form});};export default Login;","map":{"version":3,"names":["styles","Link","useNavigate","Authentication","useState","Error","authLogin","useDispatch","Login","dispatch","navigate","email","password","data","setData","error","setError","handleChange","e","target","name","value","handleLogin","validateEmail","length","onSuccess","onError","message","String","toLowerCase","match","form"],"sources":["D:/ReactProjects/grocery-site/client/src/pages/authentication/login/Login.js"],"sourcesContent":["import styles from '../form.module.css';\nimport {Link, useNavigate} from \"react-router-dom\";\nimport Authentication from \"../Authentication\";\nimport {useState} from \"react\";\nimport Error from \"../../../components/feedback/error/Error\";\nimport {authLogin} from \"../../../actions/auth\";\nimport {useDispatch} from \"react-redux\";\n\nconst Login = () => {\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const [data, setData] = useState({\n        email: \"\",\n        password: \"\"\n    });\n\n    const [error, setError] = useState(\"\");\n\n    const handleChange = (e) => {\n        setData({...data, [e.target.name]: e.target.value});\n    }\n\n    const handleLogin = () => {\n        const {email, password} = data;\n\n        if (!email)\n            return setError(\"Enter an email address\");\n\n        if (!password)\n            return setError(\"Enter a password\");\n\n        if (!validateEmail(email))\n            return setError(\"Enter a valid email address\");\n\n        if (password.length < 6)\n            return setError(\"Your password must be at least 6 characters long.\");\n\n        const onSuccess = () => {\n            navigate('/');\n        }\n\n        const onError = (e) => {\n            setError(e.message);\n        }\n\n        dispatch(authLogin(email, password, onSuccess, onError));\n    }\n\n    const validateEmail = (email) => {\n        return String(email)\n            .toLowerCase()\n            .match(\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            );\n    };\n\n    const form =\n        <div className={styles['wrapper']}>\n            {error && <Error error={error} setError={setError}/>}\n            <div className={styles['header']}>\n                <div className={styles['title']}>Login with your email</div>\n                <div className={styles['login']}>New to Rabbit Mart? <Link to={'/signup'}>Sign Up</Link></div>\n            </div>\n            <div className={styles['form']}>\n                <input onChange={(e) => handleChange(e)} name={'email'} value={data.email} placeholder={'Email'}\n                       type={'email'}/>\n                <input onChange={(e) => handleChange(e)} name={'password'} value={data.password}\n                       placeholder={'Password'} type={'password'}/>\n                <button onClick={handleLogin} className={'btn1'}>Login</button>\n            </div>\n        </div>\n\n    return <Authentication data={form}/>\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}