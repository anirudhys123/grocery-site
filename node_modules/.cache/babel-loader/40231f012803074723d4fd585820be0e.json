{"ast":null,"code":"import _objectSpread from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{LOGIN,LOGOUT,UPDATE_WISHLIST}from\"../constants/actions/authentication\";var profile=JSON.parse(localStorage.getItem('profile'));var initialState={user:profile===null||profile===void 0?void 0:profile.user,token:profile===null||profile===void 0?void 0:profile.token};var reducer=function reducer(){var _action$data,_action$data2;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case LOGIN:localStorage.setItem('profile',JSON.stringify(action.data));return _objectSpread(_objectSpread({},state),{},{user:(_action$data=action.data)===null||_action$data===void 0?void 0:_action$data.user,token:(_action$data2=action.data)===null||_action$data2===void 0?void 0:_action$data2.token});case LOGOUT:localStorage.removeItem('profile');return{};case UPDATE_WISHLIST:var user=_objectSpread(_objectSpread({},state.user),{},{wishlist:action.data});return _objectSpread(_objectSpread({},state),{},{user:user});default:return state;}};export default reducer;","map":{"version":3,"names":["LOGIN","LOGOUT","UPDATE_WISHLIST","profile","JSON","parse","localStorage","getItem","initialState","user","token","reducer","state","action","type","setItem","stringify","data","removeItem","wishlist"],"sources":["D:/ReactProjects/grocery-site/client/src/reducers/authentication.js"],"sourcesContent":["import {LOGIN, LOGOUT, UPDATE_WISHLIST} from \"../constants/actions/authentication\";\n\nlet profile = JSON.parse(localStorage.getItem('profile'));\n\nconst initialState = {\n    user: profile?.user,\n    token: profile?.token\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case LOGIN:\n            localStorage.setItem('profile', JSON.stringify(action.data));\n            return {...state, user: action.data?.user, token: action.data?.token};\n        case LOGOUT:\n            localStorage.removeItem('profile');\n            return {};\n        case UPDATE_WISHLIST:\n            const user = {...state.user, wishlist: action.data};\n            return {...state, user}\n        default:\n            return state;\n    }\n}\n\nexport default reducer;"],"mappings":"yHAAA,OAAQA,KAAR,CAAeC,MAAf,CAAuBC,eAAvB,KAA6C,qCAA7C,CAEA,GAAIC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAd,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,IAAI,CAAEN,OAAF,SAAEA,OAAF,iBAAEA,OAAO,CAAEM,IADE,CAEjBC,KAAK,CAAEP,OAAF,SAAEA,OAAF,iBAAEA,OAAO,CAAEO,KAFC,CAArB,CAKA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAkC,mCAAjCC,CAAAA,KAAiC,2DAAzBJ,YAAyB,IAAXK,CAAAA,MAAW,2CAC9C,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKd,CAAAA,KAAL,CACIM,YAAY,CAACS,OAAb,CAAqB,SAArB,CAAgCX,IAAI,CAACY,SAAL,CAAeH,MAAM,CAACI,IAAtB,CAAhC,EACA,sCAAWL,KAAX,MAAkBH,IAAI,eAAEI,MAAM,CAACI,IAAT,uCAAE,aAAaR,IAArC,CAA2CC,KAAK,gBAAEG,MAAM,CAACI,IAAT,wCAAE,cAAaP,KAA/D,GACJ,IAAKT,CAAAA,MAAL,CACIK,YAAY,CAACY,UAAb,CAAwB,SAAxB,EACA,MAAO,EAAP,CACJ,IAAKhB,CAAAA,eAAL,CACI,GAAMO,CAAAA,IAAI,gCAAOG,KAAK,CAACH,IAAb,MAAmBU,QAAQ,CAAEN,MAAM,CAACI,IAApC,EAAV,CACA,sCAAWL,KAAX,MAAkBH,IAAI,CAAJA,IAAlB,GACJ,QACI,MAAOG,CAAAA,KAAP,CAXR,CAaH,CAdD,CAgBA,cAAeD,CAAAA,OAAf"},"metadata":{},"sourceType":"module"}