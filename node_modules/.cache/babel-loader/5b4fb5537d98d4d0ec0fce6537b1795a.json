{"ast":null,"code":"import _asyncToGenerator from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\ReactProjects\\\\grocery-site\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import*as api from\"../api\";import{LOGIN,LOGOUT,UPDATE_WISHLIST}from\"../constants/actions/authentication\";export var authLogin=function authLogin(email,password,onSuccess,onError){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var loginData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.authLogin(email,password).then(function(res){return res.data;});case 3:loginData=_context.sent;dispatch({type:LOGIN,data:loginData});onSuccess();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);onError(_context.t0.response?_context.t0.response.data:{message:\"Server Error\"});case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:LOGOUT});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function logout(_x2){return _ref2.apply(this,arguments);};}();export var verifyUser=function verifyUser(onSuccess,onError){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var verificationData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.verify().then(function(res){return res.data;});case 3:verificationData=_context3.sent;onSuccess(verificationData);_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);onError(_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));};export var updateWishlist=function updateWishlist(product_id,onError){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var wishlistData;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.userUpdateWishlist(product_id).then(function(res){return res.data;});case 3:wishlistData=_context4.sent;dispatch({type:UPDATE_WISHLIST,data:wishlistData.wishlist});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);onError(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x3){return _ref4.apply(this,arguments);};}();};export var getWishlist=function getWishlist(onSuccess,onError){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var wishlist;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return api.getWishlist().then(function(res){return res.data;});case 3:wishlist=_context5.sent;onSuccess(wishlist);_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);onError(_context5.t0);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));};","map":{"version":3,"names":["api","LOGIN","LOGOUT","UPDATE_WISHLIST","authLogin","email","password","onSuccess","onError","dispatch","then","res","data","loginData","type","response","message","logout","verifyUser","verify","verificationData","updateWishlist","product_id","userUpdateWishlist","wishlistData","wishlist","getWishlist"],"sources":["D:/ReactProjects/grocery-site/client/src/actions/auth.js"],"sourcesContent":["import * as api from \"../api\";\nimport {LOGIN, LOGOUT, UPDATE_WISHLIST} from \"../constants/actions/authentication\";\n\nexport const authLogin = (email, password, onSuccess, onError) => async (dispatch) => {\n    try {\n        const loginData = await api.authLogin(email, password).then(res => res.data);\n        dispatch({type: LOGIN, data: loginData});\n        onSuccess();\n    } catch (e) {\n        onError(e.response ? e.response.data : {message: \"Server Error\"});\n    }\n}\n\nexport const logout = async (dispatch) => {\n    dispatch({type: LOGOUT});\n}\n\nexport const verifyUser = (onSuccess, onError) => async () => {\n    try {\n        const verificationData = await api.verify().then(res => res.data);\n        onSuccess(verificationData);\n    } catch (e) {\n        onError(e);\n    }\n}\n\nexport const updateWishlist = (product_id, onError) => async (dispatch) => {\n    try {\n        const wishlistData = await api.userUpdateWishlist(product_id).then(res => res.data);\n        dispatch({type: UPDATE_WISHLIST, data: wishlistData.wishlist});\n    } catch (e) {\n        onError(e);\n    }\n}\n\nexport const getWishlist = (onSuccess, onError) => async () => {\n    try {\n        const wishlist = await api.getWishlist().then(res => res.data);\n        onSuccess(wishlist);\n    } catch (e) {\n        onError(e);\n    }\n}"],"mappings":"+PAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,QAArB,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,eAAvB,KAA6C,qCAA7C,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAQC,QAAR,CAAkBC,SAAlB,CAA6BC,OAA7B,iGAAyC,iBAAOC,QAAP,sKAElCT,CAAAA,GAAG,CAACI,SAAJ,CAAcC,KAAd,CAAqBC,QAArB,EAA+BI,IAA/B,CAAoC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EAAvC,CAFkC,QAEpDC,SAFoD,eAG1DJ,QAAQ,CAAC,CAACK,IAAI,CAAEb,KAAP,CAAcW,IAAI,CAAEC,SAApB,CAAD,CAAR,CACAN,SAAS,GAJiD,+EAM1DC,OAAO,CAAC,YAAEO,QAAF,CAAa,YAAEA,QAAF,CAAWH,IAAxB,CAA+B,CAACI,OAAO,CAAE,cAAV,CAAhC,CAAP,CAN0D,oEAAzC,gEAAlB,CAUP,MAAO,IAAMC,CAAAA,MAAM,2FAAG,kBAAOR,QAAP,sHAClBA,QAAQ,CAAC,CAACK,IAAI,CAAEZ,MAAP,CAAD,CAAR,CADkB,wDAAH,kBAANe,CAAAA,MAAM,8CAAZ,CAIP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACX,SAAD,CAAYC,OAAZ,6EAAwB,qMAEXR,CAAAA,GAAG,CAACmB,MAAJ,GAAaT,IAAb,CAAkB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EAArB,CAFW,QAEpCQ,gBAFoC,gBAG1Cb,SAAS,CAACa,gBAAD,CAAT,CAH0C,mFAK1CZ,OAAO,cAAP,CAL0C,sEAAxB,IAAnB,CASP,MAAO,IAAMa,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,UAAD,CAAad,OAAb,kGAAyB,kBAAOC,QAAP,+KAEpBT,CAAAA,GAAG,CAACuB,kBAAJ,CAAuBD,UAAvB,EAAmCZ,IAAnC,CAAwC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EAA3C,CAFoB,QAEzCY,YAFyC,gBAG/Cf,QAAQ,CAAC,CAACK,IAAI,CAAEX,eAAP,CAAwBS,IAAI,CAAEY,YAAY,CAACC,QAA3C,CAAD,CAAR,CAH+C,mFAK/CjB,OAAO,cAAP,CAL+C,sEAAzB,kEAAvB,CASP,MAAO,IAAMkB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACnB,SAAD,CAAYC,OAAZ,6EAAwB,6LAEpBR,CAAAA,GAAG,CAAC0B,WAAJ,GAAkBhB,IAAlB,CAAuB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EAA1B,CAFoB,QAErCa,QAFqC,gBAG3ClB,SAAS,CAACkB,QAAD,CAAT,CAH2C,mFAK3CjB,OAAO,cAAP,CAL2C,sEAAxB,IAApB"},"metadata":{},"sourceType":"module"}