{"ast":null,"code":"import _slicedToArray from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./shipmentId.module.css';import{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import Loading from\"../../../components/loading/Loading\";import{fetchShipment}from\"../../../actions/shipping\";import Delivery from'../../../shared/assets/tracking/delivery.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShipmentId=function ShipmentId(){var _useParams=useParams(),id=_useParams.id;var shipment=useSelector(function(state){return state.shipping.fetched;});var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var navigate=useNavigate();useEffect(function(){var onSuccess=function onSuccess(){setLoading(false);};var onError=function onError(e){setLoading(false);navigate('/404');};if(shipment&&shipment.order_id===id)onSuccess();else dispatch(fetchShipment(id,onSuccess,onError));},[]);var capitalizeFirst=function capitalizeFirst(m){return m.charAt(0).toUpperCase()+m.slice(1).toLowerCase();};var getProgress=function getProgress(){switch(shipment===null||shipment===void 0?void 0:shipment.status){case'SHIPPED':return 50;case'DELIVERED':return 100;default:return 5;}};if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"div\",{className:styles['wrapper'],children:[/*#__PURE__*/_jsx(\"div\",{className:'heading',children:/*#__PURE__*/_jsx(\"h1\",{children:\"Track Shipping\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles['sub'],children:[\"Order \",/*#__PURE__*/_jsxs(\"span\",{children:[\"#\",shipment.order_id]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles['full-progress'],children:/*#__PURE__*/_jsx(\"div\",{className:styles['progress'],style:{width:getProgress()+'%'},children:/*#__PURE__*/_jsx(\"img\",{className:styles['img'],style:{transform:shipment.status==='RETURNED'?'scaleX(-1)':''},src:Delivery,alt:'Delivery'})})}),/*#__PURE__*/_jsxs(\"div\",{className:styles['status'],children:[/*#__PURE__*/_jsx(\"span\",{className:styles['update'],children:\"Delivery Update:\"}),\" Your order has been \",capitalizeFirst(shipment.status),\".\"]})]});};export default ShipmentId;","map":{"version":3,"names":["styles","useEffect","useState","useNavigate","useParams","useDispatch","useSelector","Loading","fetchShipment","Delivery","ShipmentId","id","shipment","state","shipping","fetched","dispatch","loading","setLoading","navigate","onSuccess","onError","e","order_id","capitalizeFirst","m","charAt","toUpperCase","slice","toLowerCase","getProgress","status","width","transform"],"sources":["D:/ReactProjects/grocery-site/client/src/pages/shipment/id/ShipmentId.js"],"sourcesContent":["import styles from './shipmentId.module.css';\nimport {useEffect, useState} from \"react\";\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Loading from \"../../../components/loading/Loading\";\nimport {fetchShipment} from \"../../../actions/shipping\";\nimport Delivery from '../../../shared/assets/tracking/delivery.png';\n\nconst ShipmentId = () => {\n\n    const {id} = useParams();\n    const shipment = useSelector(state => state.shipping.fetched);\n    const dispatch = useDispatch();\n    const [loading, setLoading] = useState(true);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const onSuccess = () => {\n            setLoading(false);\n        }\n\n        const onError = (e) => {\n            setLoading(false);\n            navigate('/404')\n        }\n\n        if (shipment && shipment.order_id === id)\n            onSuccess();\n        else\n            dispatch(fetchShipment(id, onSuccess, onError))\n\n    }, []);\n\n    const capitalizeFirst = (m) => {\n        return m.charAt(0).toUpperCase() + m.slice(1).toLowerCase();\n    }\n\n    const getProgress = () => {\n        switch (shipment?.status) {\n            case 'SHIPPED':\n                return 50;\n            case 'DELIVERED':\n                return 100;\n            default:\n                return 5\n        }\n    }\n\n    if (loading)\n        return <Loading/>\n\n    return (\n        <div className={styles['wrapper']}>\n            <div className={'heading'}>\n                <h1>Track Shipping</h1>\n            </div>\n            <div className={styles['sub']}>\n                Order <span>#{shipment.order_id}</span>\n            </div>\n            <div className={styles['full-progress']}>\n                <div className={styles['progress']} style={{width: getProgress() + '%'}}>\n                    <img className={styles['img']}\n                         style={{transform: shipment.status === 'RETURNED' ? 'scaleX(-1)' : ''}} src={Delivery}\n                         alt={'Delivery'}/>\n                </div>\n            </div>\n            <div className={styles['status']}>\n                <span className={styles['update']}>Delivery Update:</span> Your order has\n                been {capitalizeFirst(shipment.status)}.\n            </div>\n        </div>\n    );\n}\n\nexport default ShipmentId;"],"mappings":"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"},"metadata":{},"sourceType":"module"}