{"ast":null,"code":"import _defineProperty from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./adminNewProduct.module.css';import{useState}from\"react\";import{useDispatch}from\"react-redux\";import{postProduct}from\"../../../../actions/products\";import SuccessImage from\"../../../../shared/assets/state/success.png\";import Error from\"../../../../components/feedback/error/Error\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FORM='FORM';var SUCCESS='SUCCESS';var INITIAL_PRODUCT={product_id:'',name:'',price:'',weight:'',measurement:'',category:'',image:''};var AdminNewProduct=function AdminNewProduct(){var dispatch=useDispatch();var categories=[\"Beverages\",\"Breakfast\",\"Chips & Crackers\",\"Dairy & Eggs\",\"Fruits & Vegetables\",\"Meat Poultry and Seafood\"];var _useState=useState(FORM),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(INITIAL_PRODUCT),_useState6=_slicedToArray(_useState5,2),product=_useState6[0],setProduct=_useState6[1];var handleChange=function handleChange(e){switch(e.target.name){case'product_id':e.target.value=e.target.value.toUpperCase();break;case'measurement':e.target.value=e.target.value.toLowerCase();break;default:break;}setProduct(_objectSpread(_objectSpread({},product),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(){if(!product.product_id||product.product_id.length!==6)return setError('Enter a 6 characters product id');if(!product.name)return setError('Enter a valid product name');if(!product.price)return setError('Enter a valid product price');if(!product.weight)return setError('Enter a valid product weight');if(!product.measurement)return setError('Enter a valid product measurement');if(!product.category||product.category==='Category')return setError('Enter a valid product category');if(!product.image||!product.image.match(/(https?:\\/\\/)?.*(\\.png|\\.jpg|\\.jpeg)/))return setError('Enter a valid image URL');var onSuccess=function onSuccess(){setState(SUCCESS);};var onError=function onError(e){setError(e.message);};dispatch(postProduct(product,onSuccess,onError));};var handleReset=function handleReset(){setState(FORM);setProduct(INITIAL_PRODUCT);};if(state===SUCCESS)return/*#__PURE__*/_jsx(\"div\",{className:styles['wrapper'],children:/*#__PURE__*/_jsxs(\"div\",{className:styles['response-wrapper'],children:[/*#__PURE__*/_jsx(\"img\",{src:SuccessImage,alt:'Successfully Updated'}),/*#__PURE__*/_jsxs(\"p\",{children:[product.name,\" was added successfully to the database\"]}),/*#__PURE__*/_jsx(\"div\",{className:'btn2',onClick:handleReset,children:\"Add More\"})]})});return/*#__PURE__*/_jsxs(\"div\",{className:styles['wrapper'],children:[error&&/*#__PURE__*/_jsx(Error,{error:error,setError:setError}),/*#__PURE__*/_jsx(\"div\",{className:'heading',children:/*#__PURE__*/_jsx(\"h1\",{children:\"New Product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles['form'],children:[/*#__PURE__*/_jsx(\"input\",{maxLength:6,placeholder:'Product Id',name:'product_id',value:product.product_id,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:'Product Name',name:'name',value:product.name,className:styles['two'],onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:'Price',type:'number',name:'price',value:product.price,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:'Weight',type:'number',name:'weight',value:product.weight,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:'Measurement',maxLength:3,name:'measurement',value:product.measurement,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsxs(\"select\",{defaultValue:'Category',className:styles['full'],name:'category',onChange:function onChange(e){return handleChange(e);},children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"Category\"}),categories.map(function(category,i){return/*#__PURE__*/_jsx(\"option\",{value:category,children:category},i);})]}),/*#__PURE__*/_jsx(\"input\",{placeholder:'Image',type:'url',name:'image',value:product.image,className:styles['full'],onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"btn1 \".concat(styles['submit']),children:\"Add\"})]});};export default AdminNewProduct;","map":{"version":3,"names":["styles","useState","useDispatch","postProduct","SuccessImage","Error","FORM","SUCCESS","INITIAL_PRODUCT","product_id","name","price","weight","measurement","category","image","AdminNewProduct","dispatch","categories","state","setState","error","setError","product","setProduct","handleChange","e","target","value","toUpperCase","toLowerCase","handleSubmit","length","match","onSuccess","onError","message","handleReset","map","i"],"sources":["D:/ReactProjects/grocery-site/client/src/pages/admin/products/new/AdminNewProduct.js"],"sourcesContent":["import styles from './adminNewProduct.module.css';\nimport {useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {postProduct} from \"../../../../actions/products\";\nimport SuccessImage from \"../../../../shared/assets/state/success.png\";\nimport Error from \"../../../../components/feedback/error/Error\";\n\nconst FORM = 'FORM';\nconst SUCCESS = 'SUCCESS';\n\nconst INITIAL_PRODUCT = {\n    product_id: '',\n    name: '',\n    price: '',\n    weight: '',\n    measurement: '',\n    category: '',\n    image: ''\n};\n\nconst AdminNewProduct = () => {\n\n    const dispatch = useDispatch();\n    const categories = [\"Beverages\", \"Breakfast\", \"Chips & Crackers\", \"Dairy & Eggs\", \"Fruits & Vegetables\", \"Meat Poultry and Seafood\"];\n    const [state, setState] = useState(FORM)\n    const [error, setError] = useState('');\n\n    const [product, setProduct] = useState(INITIAL_PRODUCT);\n\n    const handleChange = (e) => {\n        switch (e.target.name) {\n            case 'product_id':\n                e.target.value = e.target.value.toUpperCase();\n                break;\n            case 'measurement':\n                e.target.value = e.target.value.toLowerCase();\n                break;\n            default:\n                break;\n        }\n\n        setProduct({...product, [e.target.name]: e.target.value});\n    }\n\n    const handleSubmit = () => {\n\n        if (!product.product_id || product.product_id.length !== 6)\n            return setError('Enter a 6 characters product id');\n\n        if (!product.name)\n            return setError('Enter a valid product name');\n\n        if (!product.price)\n            return setError('Enter a valid product price');\n\n        if (!product.weight)\n            return setError('Enter a valid product weight');\n\n        if (!product.measurement)\n            return setError('Enter a valid product measurement');\n\n        if (!product.category || product.category === 'Category')\n            return setError('Enter a valid product category');\n\n        if (!product.image || !product.image.match(/(https?:\\/\\/)?.*(\\.png|\\.jpg|\\.jpeg)/))\n            return setError('Enter a valid image URL');\n\n\n        const onSuccess = () => {\n            setState(SUCCESS);\n        }\n\n        const onError = (e) => {\n            setError(e.message)\n        }\n\n        dispatch(postProduct(product, onSuccess, onError));\n    }\n\n    const handleReset = () => {\n        setState(FORM);\n        setProduct(INITIAL_PRODUCT);\n    }\n\n    if (state === SUCCESS)\n        return (\n            <div className={styles['wrapper']}>\n                <div className={styles['response-wrapper']}>\n                    <img src={SuccessImage} alt={'Successfully Updated'}/>\n                    <p>{product.name} was added successfully to the database</p>\n                    <div className={'btn2'} onClick={handleReset}>Add More</div>\n                </div>\n            </div>\n        )\n\n    return (\n        <div className={styles['wrapper']}>\n            {error && <Error error={error} setError={setError}/>}\n            <div className={'heading'}>\n                <h1>New Product</h1>\n            </div>\n            <div className={styles['form']}>\n                <input maxLength={6} placeholder={'Product Id'} name={'product_id'} value={product.product_id}\n                       onChange={(e) => handleChange(e)}/>\n                <input placeholder={'Product Name'} name={'name'} value={product.name} className={styles['two']}\n                       onChange={(e) => handleChange(e)}/>\n                <input placeholder={'Price'} type={'number'} name={'price'} value={product.price}\n                       onChange={(e) => handleChange(e)}/>\n                <input placeholder={'Weight'} type={'number'} name={'weight'} value={product.weight}\n                       onChange={(e) => handleChange(e)}/>\n                <input placeholder={'Measurement'} maxLength={3} name={'measurement'} value={product.measurement}\n                       onChange={(e) => handleChange(e)}/>\n                <select defaultValue={'Category'} className={styles['full']} name={'category'}\n                        onChange={(e) => handleChange(e)}>\n                    <option disabled={true}>Category</option>\n                    {categories.map((category, i) => <option key={i} value={category}>{category}</option>)}\n                </select>\n                <input placeholder={'Image'} type={'url'} name={'image'} value={product.image}\n                       className={styles['full']}\n                       onChange={(e) => handleChange(e)}/>\n            </div>\n            <button onClick={handleSubmit} className={`btn1 ${styles['submit']}`}>Add</button>\n        </div>\n    );\n}\n\nexport default AdminNewProduct;"],"mappings":"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"},"metadata":{},"sourceType":"module"}