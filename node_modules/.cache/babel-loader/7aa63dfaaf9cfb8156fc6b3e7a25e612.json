{"ast":null,"code":"import _asyncToGenerator from\"D:/ReactProjects/grocery-site/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\ReactProjects\\\\grocery-site\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import*as api from\"../api\";import{SHIPPING_FETCH,SHIPPING_FETCH_ALL}from\"../constants/actions/shipping\";export var fetchShipments=function fetchShipments(page,onSuccess){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var shippingData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.fetchShipments(page).then(function(res){return res.data;});case 3:shippingData=_context.sent;dispatch({type:SHIPPING_FETCH_ALL,data:shippingData});onSuccess();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var fetchShipment=function fetchShipment(id,onSuccess,onError){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var shipmentData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.fetchShipment(id).then(function(res){return res.data;});case 3:shipmentData=_context2.sent;dispatch({type:SHIPPING_FETCH,data:shipmentData});onSuccess(shipmentData);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);onError(_context2.t0.response.data);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateShipment=function updateShipment(id,status,onSuccess,onError){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.updateShipment(id,status);case 3:onSuccess();_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);onError(_context3.t0.response.data);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));};","map":{"version":3,"names":["api","SHIPPING_FETCH","SHIPPING_FETCH_ALL","fetchShipments","page","onSuccess","dispatch","then","res","data","shippingData","type","console","log","fetchShipment","id","onError","shipmentData","response","updateShipment","status"],"sources":["D:/ReactProjects/grocery-site/client/src/actions/shipping.js"],"sourcesContent":["import * as api from \"../api\";\nimport {SHIPPING_FETCH, SHIPPING_FETCH_ALL} from \"../constants/actions/shipping\";\n\nexport const fetchShipments = (page, onSuccess) => async (dispatch) => {\n    try {\n        const shippingData = await api.fetchShipments(page).then(res => res.data);\n        dispatch({type: SHIPPING_FETCH_ALL, data: shippingData});\n        onSuccess();\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nexport const fetchShipment = (id, onSuccess, onError) => async (dispatch) => {\n    try {\n        const shipmentData = await api.fetchShipment(id).then(res => res.data);\n        dispatch({type: SHIPPING_FETCH, data: shipmentData})\n        onSuccess(shipmentData);\n    } catch (e) {\n        onError(e.response.data);\n    }\n}\n\nexport const updateShipment = (id, status, onSuccess, onError) => async () => {\n    try {\n        await api.updateShipment(id, status);\n        onSuccess();\n    } catch (e) {\n        onError(e.response.data);\n    }\n}"],"mappings":"+PAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,QAArB,CACA,OAAQC,cAAR,CAAwBC,kBAAxB,KAAiD,+BAAjD,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,CAAOC,SAAP,iGAAqB,iBAAOC,QAAP,yKAEhBN,CAAAA,GAAG,CAACG,cAAJ,CAAmBC,IAAnB,EAAyBG,IAAzB,CAA8B,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EAAjC,CAFgB,QAErCC,YAFqC,eAG3CJ,QAAQ,CAAC,CAACK,IAAI,CAAET,kBAAP,CAA2BO,IAAI,CAAEC,YAAjC,CAAD,CAAR,CACAL,SAAS,GAJkC,+EAM3CO,OAAO,CAACC,GAAR,cAN2C,oEAArB,gEAAvB,CAUP,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAKV,SAAL,CAAgBW,OAAhB,kGAA4B,kBAAOV,QAAP,+KAEtBN,CAAAA,GAAG,CAACc,aAAJ,CAAkBC,EAAlB,EAAsBR,IAAtB,CAA2B,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EAA9B,CAFsB,QAE3CQ,YAF2C,gBAGjDX,QAAQ,CAAC,CAACK,IAAI,CAAEV,cAAP,CAAuBQ,IAAI,CAAEQ,YAA7B,CAAD,CAAR,CACAZ,SAAS,CAACY,YAAD,CAAT,CAJiD,mFAMjDD,OAAO,CAAC,aAAEE,QAAF,CAAWT,IAAZ,CAAP,CANiD,sEAA5B,kEAAtB,CAUP,MAAO,IAAMU,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACJ,EAAD,CAAKK,MAAL,CAAaf,SAAb,CAAwBW,OAAxB,6EAAoC,gLAEpDhB,CAAAA,GAAG,CAACmB,cAAJ,CAAmBJ,EAAnB,CAAuBK,MAAvB,CAFoD,QAG1Df,SAAS,GAHiD,kFAK1DW,OAAO,CAAC,aAAEE,QAAF,CAAWT,IAAZ,CAAP,CAL0D,qEAApC,IAAvB"},"metadata":{},"sourceType":"module"}