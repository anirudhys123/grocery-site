{"ast":null,"code":"import{useNavigate,useSearchParams}from\"react-router-dom\";import Loading from\"../../components/loading/Loading\";import{useEffect}from\"react\";import{useDispatch}from\"react-redux\";import{fetchOrder}from\"../../actions/orders\";import{jsx as _jsx}from\"react/jsx-runtime\";var Success=function Success(_ref){var setCart=_ref.setCart;var order_id=useSearchParams()[0].get('order');var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){var onSuccess=function onSuccess(){navigate(\"/orders/\".concat(order_id));setCart([]);localStorage.removeItem('cart');};var onError=function onError(){window.location.reload();};dispatch(fetchOrder(order_id,onSuccess,onError));},[dispatch,navigate,order_id,setCart]);return/*#__PURE__*/_jsx(Loading,{text:'Processing'});};export default Success;","map":{"version":3,"names":["useNavigate","useSearchParams","Loading","useEffect","useDispatch","fetchOrder","Success","setCart","order_id","get","navigate","dispatch","onSuccess","localStorage","removeItem","onError","window","location","reload"],"sources":["D:/ReactProjects/grocery-site/client/src/pages/checkout/success.js"],"sourcesContent":["import {useNavigate, useSearchParams} from \"react-router-dom\";\nimport Loading from \"../../components/loading/Loading\";\nimport {useEffect} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {fetchOrder} from \"../../actions/orders\";\n\nconst Success = ({setCart}) => {\n\n    const order_id = useSearchParams()[0].get('order');\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const onSuccess = () => {\n            navigate(`/orders/${order_id}`);\n            setCart([]);\n            localStorage.removeItem('cart');\n        }\n\n        const onError = () => {\n            window.location.reload();\n        }\n\n        dispatch(fetchOrder(order_id, onSuccess, onError));\n    }, [dispatch, navigate, order_id, setCart])\n\n    return <Loading text={'Processing'}/>\n}\n\nexport default Success;"],"mappings":"AAAA,OAAQA,WAAR,CAAqBC,eAArB,KAA2C,kBAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,OAAQC,SAAR,KAAwB,OAAxB,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,OAAQC,UAAR,KAAyB,sBAAzB,C,2CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,CAE3B,GAAMC,CAAAA,QAAQ,CAAGP,eAAe,GAAG,CAAH,CAAf,CAAqBQ,GAArB,CAAyB,OAAzB,CAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEAD,SAAS,CAAC,UAAM,CACZ,GAAMS,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBF,QAAQ,mBAAYF,QAAZ,EAAR,CACAD,OAAO,CAAC,EAAD,CAAP,CACAM,YAAY,CAACC,UAAb,CAAwB,MAAxB,EACH,CAJD,CAMA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAFD,CAIAP,QAAQ,CAACN,UAAU,CAACG,QAAD,CAAWI,SAAX,CAAsBG,OAAtB,CAAX,CAAR,CACH,CAZQ,CAYN,CAACJ,QAAD,CAAWD,QAAX,CAAqBF,QAArB,CAA+BD,OAA/B,CAZM,CAAT,CAcA,mBAAO,KAAC,OAAD,EAAS,IAAI,CAAE,YAAf,EAAP,CACH,CArBD,CAuBA,cAAeD,CAAAA,OAAf"},"metadata":{},"sourceType":"module"}